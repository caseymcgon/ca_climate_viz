<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Scrollama: Sticky Side Example</title>
    <meta name="description" content="Scrollama: Sticky Side Example" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/style.css" />
    <style>
      #scrolly {
        position: relative;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        background-color: #f3f3f3;
        padding: 1rem;
      }


      #scrolly > * {
        -webkit-box-flex: 1;
        -ms-flex: 1;
        flex: 1;
      }

      article {
        position: relative;
        padding: 0 1rem;
        max-width: 20rem;
      }

      figure {
        position: -webkit-sticky;
        position: sticky;
        width: 100%;
        margin: 0;
        -webkit-transform: translate3d(0, 0, 0);
        -moz-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        background-color: #8a8a8a00;
        z-index: 0;
      }

      figure p {
        text-align: center;
        padding: 1rem;
        position: absolute;
        top: 100%;
        left: 50%;
        -moz-transform: translate(-50%, -50%);
        -webkit-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        font-size: 8rem;
        font-weight: 900;
        color: #fff;
      }

      .hide {
        display: none
      }

      .step {
        margin: 0 auto 2rem auto;
        background-color: #3b3b3b;
        color: #fff;
      }

      .step:last-child {
        margin-bottom: 0;
      }

      .step.is-active {
        background-color: goldenrod;
        color: #3b3b3b;
      }

      .step p {
        text-align: center;
        padding: 1rem;
        font-size: 1.5rem;
      }
    </style>
  </head>

  <body>
    <a
      href="https://github.com/russellgoldenberg/scrollama"
      target="_blank"
      class="github-corner"
      aria-label="View source on GitHub"
      ><svg
        width="80"
        height="80"
        viewBox="0 0 250 250"
        style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
        aria-hidden="true"
      >
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor"
          style="transform-origin: 130px 106px;"
          class="octo-arm"
        ></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor"
          class="octo-body"
        ></path></svg
    ></a>
    <main>
      <nav>
        <a href="https://github.com/russellgoldenberg/scrollama"
          >scrollama.js</a
        >
        <div class="nav__examples">
          <p>Examples:</p>
          <a href="https://russellgoldenberg.github.io/scrollama/basic"
            >Basic</a
          >
          <a href="https://russellgoldenberg.github.io/scrollama/progress"
            >Progress</a
          >
          <a href="https://russellgoldenberg.github.io/scrollama/sticky-side"
            >Sticky Side</a
          >
          <a href="https://russellgoldenberg.github.io/scrollama/sticky-overlay"
            >Sticky Overlay</a
          >
          <a href="https://russellgoldenberg.github.io/scrollama/mobile-pattern"
            >Mobile Pattern</a
          >
        </div>
      </nav>
      <section id="intro">
        <h1 class="intro__hed">Sticky Side Example</h1>
        <p class="intro__dek">
          Start scrolling to see how it works.
        </p>
      </section>

      <section id="scrolly">
        <article>
          <div class="step" data-step="1">
            <p>STEP 1</p>
          </div>
          <div class="step" data-step="2">
            <p>STEP 2</p>
          </div>
          <div class="step" data-step="3">
            <p>STEP 3</p>
          </div>
          <div class="step" data-step="4">
            <p>STEP 4</p>
          </div>
        </article>

        <figure>
          <div class="content-1 hide">
            <iframe width="45%" height="800" frameborder="0" src="https://observablehq.com/embed/@jennamorabito/dought-in-ca?cells=chart%2Cviewof+myslider1%2Cstyle"></iframe>
          </div>
          <div class="content-2 hide">
            <div id="altairChartCasey"></div>

            <!DOCTYPE html>
            <html>
            <head>
              <style>
                .error {
                    color: red;
                }
              </style>
              <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
              <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
              <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
            </head>
            <body>
              <div id="visCasey"></div>
              <script>
                (function(vegaEmbed) {
                  var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "axis": {"grid": false, "labelFontSize": 25, "titleFontSize": 25}, "title": {"fontSize": 35}}, "layer": [{"mark": {"type": "point", "filled": true, "opacity": 0.7, "size": 150}, "encoding": {"color": {"type": "ordinal", "field": "decade", "legend": {"labelFontSize": 20, "tickCount": 10, "title": "Decades", "titleFontSize": 25}, "scale": {"domain": [1890, 1900, 1910, 1920, 1930, 1940, 1950, 1960, 1970, 1980, 1990, 2000, 2010, 2020], "scheme": "plasma"}}, "tooltip": [{"type": "temporal", "field": "streamlit_year", "timeUnit": "year", "title": "Year"}, {"type": "quantitative", "field": "Avg Temp", "title": "Temperature (\u00b0F)"}, {"type": "quantitative", "field": "Precipitation", "title": "Precip (in)"}, {"type": "quantitative", "field": "Temp Anomaly"}, {"type": "quantitative", "field": "Precip Anomaly"}], "x": {"type": "quantitative", "axis": {"title": "Average Summer Temperature Statewide (\u00b0F)"}, "field": "Avg Temp", "scale": {"domain": [64, 72]}}, "y": {"type": "quantitative", "axis": {"title": "Average Precipitation Statewide (in)"}, "field": "Precipitation"}}}, {"mark": {"type": "line", "color": "grey", "size": 2}, "encoding": {"x": {"type": "quantitative", "axis": {"title": "Average Summer Temperature Statewide (\u00b0F)"}, "field": "Avg Temp", "scale": {"domain": [64, 72]}}, "y": {"type": "quantitative", "axis": {"title": "Average Precipitation Statewide (in)"}, "field": "Precipitation"}}, "transform": [{"on": "Avg Temp", "regression": "Precipitation"}]}, {"mark": {"type": "text", "angle": 9, "color": "grey", "dx": 480, "dy": 15, "fontSize": 15, "text": "Line of Best Fit (Precipitation ~ Temp)"}, "encoding": {}}, {"layer": [{"mark": {"type": "rule", "color": "#c33cb8", "fillOpacity": 0.1, "size": 1}, "encoding": {"tooltip": [{"type": "quantitative", "field": "Precip_100_yr_avg", "format": ",.2f", "title": "Average Precip 1895-1995 (in)"}], "y": {"type": "quantitative", "field": "Precip_100_yr_avg", "scale": {"domain": [0, 7]}}}}, {"mark": {"type": "rule", "color": "#c33cb8", "size": 1}, "encoding": {"tooltip": [{"type": "quantitative", "field": "Temp_100_yr_avg", "format": ",.2f", "title": "Average Temp 1895-1995 (\u00b0F)"}], "x": {"type": "quantitative", "field": "Temp_100_yr_avg", "scale": {"domain": [64, 72]}}}}, {"mark": {"type": "text", "color": "#c33cb8", "dx": 510, "dy": 5, "fontSize": 15, "text": "Avg. Precip (1895 - 1995)"}, "encoding": {}}, {"mark": {"type": "text", "angle": 270, "color": "#c33cb8", "dx": -260, "dy": -90, "fontSize": 15, "text": "Avg. Temp (1895 - 1995)"}, "encoding": {}}]}], "data": {"name": "data-cbac2bf496879743b6ce99fc549034dd"}, "height": 700, "title": "California's Average Climate 1895 - 2020", "width": 1200, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-cbac2bf496879743b6ce99fc549034dd": [{"Year": "1895-01-01T00:00:00", "Avg Temp": 66.7, "Temp Anomaly": -0.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.16, "Precip Anomaly": -0.16, "Precip_100_yr_avg": 3.321188118811881, "decade": "1890", "streamlit_year": "1896-01-01T00:00:00"}, {"Year": "1896-01-01T00:00:00", "Avg Temp": 67.5, "Temp Anomaly": 0.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.83, "Precip Anomaly": 1.51, "Precip_100_yr_avg": 3.321188118811881, "decade": "1890", "streamlit_year": "1897-01-01T00:00:00"}, {"Year": "1897-01-01T00:00:00", "Avg Temp": 67.3, "Temp Anomaly": -0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.61, "Precip Anomaly": 0.29, "Precip_100_yr_avg": 3.321188118811881, "decade": "1890", "streamlit_year": "1898-01-01T00:00:00"}, {"Year": "1898-01-01T00:00:00", "Avg Temp": 67.2, "Temp Anomaly": -0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.81, "Precip Anomaly": 0.49, "Precip_100_yr_avg": 3.321188118811881, "decade": "1890", "streamlit_year": "1899-01-01T00:00:00"}, {"Year": "1899-01-01T00:00:00", "Avg Temp": 65.7, "Temp Anomaly": -1.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 5.35, "Precip Anomaly": 2.03, "Precip_100_yr_avg": 3.321188118811881, "decade": "1890", "streamlit_year": "1900-01-01T00:00:00"}, {"Year": "1900-01-01T00:00:00", "Avg Temp": 66.2, "Temp Anomaly": -1.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.92, "Precip Anomaly": 1.6, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1901-01-01T00:00:00"}, {"Year": "1901-01-01T00:00:00", "Avg Temp": 67.1, "Temp Anomaly": -0.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.08, "Precip Anomaly": 0.76, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1902-01-01T00:00:00"}, {"Year": "1902-01-01T00:00:00", "Avg Temp": 66.5, "Temp Anomaly": -1.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.13, "Precip Anomaly": -0.19, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1903-01-01T00:00:00"}, {"Year": "1903-01-01T00:00:00", "Avg Temp": 66.9, "Temp Anomaly": -0.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.37, "Precip Anomaly": -1.95, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1904-01-01T00:00:00"}, {"Year": "1904-01-01T00:00:00", "Avg Temp": 67.7, "Temp Anomaly": 0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.79, "Precip Anomaly": 1.47, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1905-01-01T00:00:00"}, {"Year": "1905-01-01T00:00:00", "Avg Temp": 66.3, "Temp Anomaly": -1.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.62, "Precip Anomaly": -0.7, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1906-01-01T00:00:00"}, {"Year": "1906-01-01T00:00:00", "Avg Temp": 67.0, "Temp Anomaly": -0.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.27, "Precip Anomaly": 0.95, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1907-01-01T00:00:00"}, {"Year": "1907-01-01T00:00:00", "Avg Temp": 65.4, "Temp Anomaly": -2.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.73, "Precip Anomaly": 0.41, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1908-01-01T00:00:00"}, {"Year": "1908-01-01T00:00:00", "Avg Temp": 65.6, "Temp Anomaly": -1.9, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.96, "Precip Anomaly": 0.64, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1909-01-01T00:00:00"}, {"Year": "1909-01-01T00:00:00", "Avg Temp": 66.2, "Temp Anomaly": -1.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.02, "Precip Anomaly": -0.3, "Precip_100_yr_avg": 3.321188118811881, "decade": "1900", "streamlit_year": "1910-01-01T00:00:00"}, {"Year": "1910-01-01T00:00:00", "Avg Temp": 67.7, "Temp Anomaly": 0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.99, "Precip Anomaly": -1.33, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1911-01-01T00:00:00"}, {"Year": "1911-01-01T00:00:00", "Avg Temp": 65.2, "Temp Anomaly": -2.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.0, "Precip Anomaly": -1.32, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1912-01-01T00:00:00"}, {"Year": "1912-01-01T00:00:00", "Avg Temp": 65.0, "Temp Anomaly": -2.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.39, "Precip Anomaly": 1.07, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1913-01-01T00:00:00"}, {"Year": "1913-01-01T00:00:00", "Avg Temp": 67.3, "Temp Anomaly": -0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.22, "Precip Anomaly": -0.1, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1914-01-01T00:00:00"}, {"Year": "1914-01-01T00:00:00", "Avg Temp": 66.8, "Temp Anomaly": -0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.21, "Precip Anomaly": -0.11, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1915-01-01T00:00:00"}, {"Year": "1915-01-01T00:00:00", "Avg Temp": 66.5, "Temp Anomaly": -1.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.34, "Precip Anomaly": 0.02, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1916-01-01T00:00:00"}, {"Year": "1916-01-01T00:00:00", "Avg Temp": 64.8, "Temp Anomaly": -2.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.52, "Precip Anomaly": 0.2, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1917-01-01T00:00:00"}, {"Year": "1917-01-01T00:00:00", "Avg Temp": 67.9, "Temp Anomaly": 0.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.49, "Precip Anomaly": -1.83, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1918-01-01T00:00:00"}, {"Year": "1918-01-01T00:00:00", "Avg Temp": 67.5, "Temp Anomaly": 0.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.53, "Precip Anomaly": 0.21, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1919-01-01T00:00:00"}, {"Year": "1919-01-01T00:00:00", "Avg Temp": 66.9, "Temp Anomaly": -0.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.22, "Precip Anomaly": -1.1, "Precip_100_yr_avg": 3.321188118811881, "decade": "1910", "streamlit_year": "1920-01-01T00:00:00"}, {"Year": "1920-01-01T00:00:00", "Avg Temp": 65.9, "Temp Anomaly": -1.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.77, "Precip Anomaly": 0.45, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1921-01-01T00:00:00"}, {"Year": "1921-01-01T00:00:00", "Avg Temp": 67.0, "Temp Anomaly": -0.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.56, "Precip Anomaly": 0.24, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1922-01-01T00:00:00"}, {"Year": "1922-01-01T00:00:00", "Avg Temp": 68.2, "Temp Anomaly": 0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.58, "Precip Anomaly": 0.26, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1923-01-01T00:00:00"}, {"Year": "1923-01-01T00:00:00", "Avg Temp": 66.0, "Temp Anomaly": -1.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.7, "Precip Anomaly": 0.38, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1924-01-01T00:00:00"}, {"Year": "1924-01-01T00:00:00", "Avg Temp": 67.5, "Temp Anomaly": 0.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.36, "Precip Anomaly": 0.04, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1925-01-01T00:00:00"}, {"Year": "1925-01-01T00:00:00", "Avg Temp": 66.5, "Temp Anomaly": -1.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.47, "Precip Anomaly": 1.15, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1926-01-01T00:00:00"}, {"Year": "1926-01-01T00:00:00", "Avg Temp": 68.3, "Temp Anomaly": 0.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.36, "Precip Anomaly": -0.96, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1927-01-01T00:00:00"}, {"Year": "1927-01-01T00:00:00", "Avg Temp": 66.7, "Temp Anomaly": -0.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.29, "Precip Anomaly": -0.03, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1928-01-01T00:00:00"}, {"Year": "1928-01-01T00:00:00", "Avg Temp": 67.9, "Temp Anomaly": 0.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.27, "Precip Anomaly": -2.05, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1929-01-01T00:00:00"}, {"Year": "1929-01-01T00:00:00", "Avg Temp": 68.0, "Temp Anomaly": 0.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.9, "Precip Anomaly": -1.42, "Precip_100_yr_avg": 3.321188118811881, "decade": "1920", "streamlit_year": "1930-01-01T00:00:00"}, {"Year": "1930-01-01T00:00:00", "Avg Temp": 66.1, "Temp Anomaly": -1.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.48, "Precip Anomaly": -0.84, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1931-01-01T00:00:00"}, {"Year": "1931-01-01T00:00:00", "Avg Temp": 69.0, "Temp Anomaly": 1.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.89, "Precip Anomaly": 0.57, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1932-01-01T00:00:00"}, {"Year": "1932-01-01T00:00:00", "Avg Temp": 67.7, "Temp Anomaly": 0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.16, "Precip Anomaly": -1.16, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1933-01-01T00:00:00"}, {"Year": "1933-01-01T00:00:00", "Avg Temp": 67.6, "Temp Anomaly": 0.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.6, "Precip Anomaly": 0.28, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1934-01-01T00:00:00"}, {"Year": "1934-01-01T00:00:00", "Avg Temp": 68.4, "Temp Anomaly": 0.9, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.19, "Precip Anomaly": 0.87, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1935-01-01T00:00:00"}, {"Year": "1935-01-01T00:00:00", "Avg Temp": 67.7, "Temp Anomaly": 0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.29, "Precip Anomaly": -1.03, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1936-01-01T00:00:00"}, {"Year": "1936-01-01T00:00:00", "Avg Temp": 69.0, "Temp Anomaly": 1.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.52, "Precip Anomaly": 0.2, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1937-01-01T00:00:00"}, {"Year": "1937-01-01T00:00:00", "Avg Temp": 68.9, "Temp Anomaly": 1.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.5, "Precip Anomaly": -0.82, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1938-01-01T00:00:00"}, {"Year": "1938-01-01T00:00:00", "Avg Temp": 68.0, "Temp Anomaly": 0.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.02, "Precip Anomaly": -0.3, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1939-01-01T00:00:00"}, {"Year": "1939-01-01T00:00:00", "Avg Temp": 68.3, "Temp Anomaly": 0.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.62, "Precip Anomaly": 0.3, "Precip_100_yr_avg": 3.321188118811881, "decade": "1930", "streamlit_year": "1940-01-01T00:00:00"}, {"Year": "1940-01-01T00:00:00", "Avg Temp": 68.7, "Temp Anomaly": 1.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.22, "Precip Anomaly": -0.1, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1941-01-01T00:00:00"}, {"Year": "1941-01-01T00:00:00", "Avg Temp": 66.0, "Temp Anomaly": -1.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.12, "Precip Anomaly": 0.8, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1942-01-01T00:00:00"}, {"Year": "1942-01-01T00:00:00", "Avg Temp": 67.3, "Temp Anomaly": -0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.89, "Precip Anomaly": -0.43, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1943-01-01T00:00:00"}, {"Year": "1943-01-01T00:00:00", "Avg Temp": 67.2, "Temp Anomaly": -0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.55, "Precip Anomaly": -0.77, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1944-01-01T00:00:00"}, {"Year": "1944-01-01T00:00:00", "Avg Temp": 66.7, "Temp Anomaly": -0.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.72, "Precip Anomaly": -0.6, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1945-01-01T00:00:00"}, {"Year": "1945-01-01T00:00:00", "Avg Temp": 68.0, "Temp Anomaly": 0.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 5.66, "Precip Anomaly": 2.34, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1946-01-01T00:00:00"}, {"Year": "1946-01-01T00:00:00", "Avg Temp": 66.9, "Temp Anomaly": -0.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.49, "Precip Anomaly": -0.83, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1947-01-01T00:00:00"}, {"Year": "1947-01-01T00:00:00", "Avg Temp": 67.8, "Temp Anomaly": 0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.42, "Precip Anomaly": 1.1, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1948-01-01T00:00:00"}, {"Year": "1948-01-01T00:00:00", "Avg Temp": 66.3, "Temp Anomaly": -1.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.5, "Precip Anomaly": 0.18, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1949-01-01T00:00:00"}, {"Year": "1949-01-01T00:00:00", "Avg Temp": 67.2, "Temp Anomaly": -0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.05, "Precip Anomaly": -1.27, "Precip_100_yr_avg": 3.321188118811881, "decade": "1940", "streamlit_year": "1950-01-01T00:00:00"}, {"Year": "1950-01-01T00:00:00", "Avg Temp": 67.9, "Temp Anomaly": 0.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 5.2, "Precip Anomaly": 1.88, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1951-01-01T00:00:00"}, {"Year": "1951-01-01T00:00:00", "Avg Temp": 67.8, "Temp Anomaly": 0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.59, "Precip Anomaly": 0.27, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1952-01-01T00:00:00"}, {"Year": "1952-01-01T00:00:00", "Avg Temp": 68.6, "Temp Anomaly": 1.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.16, "Precip Anomaly": -1.16, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1953-01-01T00:00:00"}, {"Year": "1953-01-01T00:00:00", "Avg Temp": 66.3, "Temp Anomaly": -1.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.48, "Precip Anomaly": 0.16, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1954-01-01T00:00:00"}, {"Year": "1954-01-01T00:00:00", "Avg Temp": 67.2, "Temp Anomaly": -0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.83, "Precip Anomaly": -1.49, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1955-01-01T00:00:00"}, {"Year": "1955-01-01T00:00:00", "Avg Temp": 67.3, "Temp Anomaly": -0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.11, "Precip Anomaly": -1.21, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1956-01-01T00:00:00"}, {"Year": "1956-01-01T00:00:00", "Avg Temp": 67.1, "Temp Anomaly": -0.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.5, "Precip Anomaly": 1.18, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1957-01-01T00:00:00"}, {"Year": "1957-01-01T00:00:00", "Avg Temp": 67.2, "Temp Anomaly": -0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 6.54, "Precip Anomaly": 3.22, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1958-01-01T00:00:00"}, {"Year": "1958-01-01T00:00:00", "Avg Temp": 69.6, "Temp Anomaly": 2.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.38, "Precip Anomaly": 0.06, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1959-01-01T00:00:00"}, {"Year": "1959-01-01T00:00:00", "Avg Temp": 68.6, "Temp Anomaly": 1.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.24, "Precip Anomaly": -1.08, "Precip_100_yr_avg": 3.321188118811881, "decade": "1950", "streamlit_year": "1960-01-01T00:00:00"}, {"Year": "1960-01-01T00:00:00", "Avg Temp": 69.1, "Temp Anomaly": 1.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.04, "Precip Anomaly": -1.28, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1961-01-01T00:00:00"}, {"Year": "1961-01-01T00:00:00", "Avg Temp": 68.2, "Temp Anomaly": 0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.79, "Precip Anomaly": -0.53, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1962-01-01T00:00:00"}, {"Year": "1962-01-01T00:00:00", "Avg Temp": 67.2, "Temp Anomaly": -0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 5.45, "Precip Anomaly": 2.13, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1963-01-01T00:00:00"}, {"Year": "1963-01-01T00:00:00", "Avg Temp": 67.4, "Temp Anomaly": -0.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.77, "Precip Anomaly": 1.45, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1964-01-01T00:00:00"}, {"Year": "1964-01-01T00:00:00", "Avg Temp": 67.3, "Temp Anomaly": -0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.18, "Precip Anomaly": -0.14, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1965-01-01T00:00:00"}, {"Year": "1965-01-01T00:00:00", "Avg Temp": 66.4, "Temp Anomaly": -1.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.77, "Precip Anomaly": -1.55, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1966-01-01T00:00:00"}, {"Year": "1966-01-01T00:00:00", "Avg Temp": 68.4, "Temp Anomaly": 0.9, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.24, "Precip Anomaly": -2.08, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1967-01-01T00:00:00"}, {"Year": "1967-01-01T00:00:00", "Avg Temp": 69.0, "Temp Anomaly": 1.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.11, "Precip Anomaly": -0.21, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1968-01-01T00:00:00"}, {"Year": "1968-01-01T00:00:00", "Avg Temp": 67.5, "Temp Anomaly": 0.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.21, "Precip Anomaly": -0.11, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1969-01-01T00:00:00"}, {"Year": "1969-01-01T00:00:00", "Avg Temp": 68.2, "Temp Anomaly": 0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.82, "Precip Anomaly": -0.5, "Precip_100_yr_avg": 3.321188118811881, "decade": "1960", "streamlit_year": "1970-01-01T00:00:00"}, {"Year": "1970-01-01T00:00:00", "Avg Temp": 68.2, "Temp Anomaly": 0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.14, "Precip Anomaly": -1.18, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1971-01-01T00:00:00"}, {"Year": "1971-01-01T00:00:00", "Avg Temp": 66.7, "Temp Anomaly": -0.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.48, "Precip Anomaly": 0.16, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1972-01-01T00:00:00"}, {"Year": "1972-01-01T00:00:00", "Avg Temp": 67.7, "Temp Anomaly": 0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.62, "Precip Anomaly": 0.3, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1973-01-01T00:00:00"}, {"Year": "1973-01-01T00:00:00", "Avg Temp": 68.4, "Temp Anomaly": 0.9, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.14, "Precip Anomaly": -0.18, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1974-01-01T00:00:00"}, {"Year": "1974-01-01T00:00:00", "Avg Temp": 68.7, "Temp Anomaly": 1.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.45, "Precip Anomaly": -0.87, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1975-01-01T00:00:00"}, {"Year": "1975-01-01T00:00:00", "Avg Temp": 67.2, "Temp Anomaly": -0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.89, "Precip Anomaly": 0.57, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1976-01-01T00:00:00"}, {"Year": "1976-01-01T00:00:00", "Avg Temp": 67.4, "Temp Anomaly": -0.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.11, "Precip Anomaly": -0.21, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1977-01-01T00:00:00"}, {"Year": "1977-01-01T00:00:00", "Avg Temp": 67.5, "Temp Anomaly": 0.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.43, "Precip Anomaly": 1.11, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1978-01-01T00:00:00"}, {"Year": "1978-01-01T00:00:00", "Avg Temp": 68.2, "Temp Anomaly": 0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.4, "Precip Anomaly": -0.92, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1979-01-01T00:00:00"}, {"Year": "1979-01-01T00:00:00", "Avg Temp": 68.6, "Temp Anomaly": 1.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.47, "Precip Anomaly": 1.15, "Precip_100_yr_avg": 3.321188118811881, "decade": "1970", "streamlit_year": "1980-01-01T00:00:00"}, {"Year": "1980-01-01T00:00:00", "Avg Temp": 67.0, "Temp Anomaly": -0.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.24, "Precip Anomaly": -1.08, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1981-01-01T00:00:00"}, {"Year": "1981-01-01T00:00:00", "Avg Temp": 68.9, "Temp Anomaly": 1.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.15, "Precip Anomaly": 0.83, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1982-01-01T00:00:00"}, {"Year": "1982-01-01T00:00:00", "Avg Temp": 66.8, "Temp Anomaly": -0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 5.41, "Precip Anomaly": 2.09, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1983-01-01T00:00:00"}, {"Year": "1983-01-01T00:00:00", "Avg Temp": 67.8, "Temp Anomaly": 0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.09, "Precip Anomaly": 0.77, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1984-01-01T00:00:00"}, {"Year": "1984-01-01T00:00:00", "Avg Temp": 69.0, "Temp Anomaly": 1.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.9, "Precip Anomaly": 0.58, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1985-01-01T00:00:00"}, {"Year": "1985-01-01T00:00:00", "Avg Temp": 67.8, "Temp Anomaly": 0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.99, "Precip Anomaly": -0.33, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1986-01-01T00:00:00"}, {"Year": "1986-01-01T00:00:00", "Avg Temp": 67.5, "Temp Anomaly": 0.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.16, "Precip Anomaly": -0.16, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1987-01-01T00:00:00"}, {"Year": "1987-01-01T00:00:00", "Avg Temp": 68.9, "Temp Anomaly": 1.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.55, "Precip Anomaly": -0.77, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1988-01-01T00:00:00"}, {"Year": "1988-01-01T00:00:00", "Avg Temp": 69.1, "Temp Anomaly": 1.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.19, "Precip Anomaly": -1.13, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1989-01-01T00:00:00"}, {"Year": "1989-01-01T00:00:00", "Avg Temp": 67.5, "Temp Anomaly": 0.0, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.69, "Precip Anomaly": 1.37, "Precip_100_yr_avg": 3.321188118811881, "decade": "1980", "streamlit_year": "1990-01-01T00:00:00"}, {"Year": "1990-01-01T00:00:00", "Avg Temp": 68.6, "Temp Anomaly": 1.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.16, "Precip Anomaly": 0.84, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1991-01-01T00:00:00"}, {"Year": "1991-01-01T00:00:00", "Avg Temp": 68.2, "Temp Anomaly": 0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.12, "Precip Anomaly": -0.2, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1992-01-01T00:00:00"}, {"Year": "1992-01-01T00:00:00", "Avg Temp": 69.9, "Temp Anomaly": 2.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.56, "Precip Anomaly": 0.24, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1993-01-01T00:00:00"}, {"Year": "1993-01-01T00:00:00", "Avg Temp": 67.8, "Temp Anomaly": 0.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.42, "Precip Anomaly": 0.1, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1994-01-01T00:00:00"}, {"Year": "1994-01-01T00:00:00", "Avg Temp": 68.8, "Temp Anomaly": 1.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.53, "Precip Anomaly": -0.79, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1995-01-01T00:00:00"}, {"Year": "1995-01-01T00:00:00", "Avg Temp": 67.9, "Temp Anomaly": 0.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.03, "Precip Anomaly": -0.29, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1996-01-01T00:00:00"}, {"Year": "1996-01-01T00:00:00", "Avg Temp": 69.2, "Temp Anomaly": 1.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.42, "Precip Anomaly": 1.1, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1997-01-01T00:00:00"}, {"Year": "1997-01-01T00:00:00", "Avg Temp": 69.1, "Temp Anomaly": 1.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.63, "Precip Anomaly": 0.31, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1998-01-01T00:00:00"}, {"Year": "1998-01-01T00:00:00", "Avg Temp": 66.7, "Temp Anomaly": -0.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 5.63, "Precip Anomaly": 2.31, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "1999-01-01T00:00:00"}, {"Year": "1999-01-01T00:00:00", "Avg Temp": 68.1, "Temp Anomaly": 0.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.99, "Precip Anomaly": -1.33, "Precip_100_yr_avg": 3.321188118811881, "decade": "1990", "streamlit_year": "2000-01-01T00:00:00"}, {"Year": "2000-01-01T00:00:00", "Avg Temp": 68.7, "Temp Anomaly": 1.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.13, "Precip Anomaly": 0.81, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2001-01-01T00:00:00"}, {"Year": "2001-01-01T00:00:00", "Avg Temp": 70.8, "Temp Anomaly": 3.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.66, "Precip Anomaly": -1.66, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2002-01-01T00:00:00"}, {"Year": "2002-01-01T00:00:00", "Avg Temp": 69.1, "Temp Anomaly": 1.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 0.9, "Precip Anomaly": -2.42, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2003-01-01T00:00:00"}, {"Year": "2003-01-01T00:00:00", "Avg Temp": 70.9, "Temp Anomaly": 3.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.18, "Precip Anomaly": -1.14, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2004-01-01T00:00:00"}, {"Year": "2004-01-01T00:00:00", "Avg Temp": 68.7, "Temp Anomaly": 1.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.64, "Precip Anomaly": 1.32, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2005-01-01T00:00:00"}, {"Year": "2005-01-01T00:00:00", "Avg Temp": 68.2, "Temp Anomaly": 0.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.96, "Precip Anomaly": 1.64, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2006-01-01T00:00:00"}, {"Year": "2006-01-01T00:00:00", "Avg Temp": 69.9, "Temp Anomaly": 2.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.6, "Precip Anomaly": -1.72, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2007-01-01T00:00:00"}, {"Year": "2007-01-01T00:00:00", "Avg Temp": 69.0, "Temp Anomaly": 1.5, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.74, "Precip Anomaly": -0.58, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2008-01-01T00:00:00"}, {"Year": "2008-01-01T00:00:00", "Avg Temp": 69.9, "Temp Anomaly": 2.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.57, "Precip Anomaly": -1.75, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2009-01-01T00:00:00"}, {"Year": "2009-01-01T00:00:00", "Avg Temp": 69.6, "Temp Anomaly": 2.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.17, "Precip Anomaly": 0.85, "Precip_100_yr_avg": 3.321188118811881, "decade": "2000", "streamlit_year": "2010-01-01T00:00:00"}, {"Year": "2010-01-01T00:00:00", "Avg Temp": 67.7, "Temp Anomaly": 0.2, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.66, "Precip Anomaly": 1.34, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2011-01-01T00:00:00"}, {"Year": "2011-01-01T00:00:00", "Avg Temp": 67.9, "Temp Anomaly": 0.4, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 4.5, "Precip Anomaly": 1.18, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2012-01-01T00:00:00"}, {"Year": "2012-01-01T00:00:00", "Avg Temp": 70.2, "Temp Anomaly": 2.7, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.17, "Precip Anomaly": -1.15, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2013-01-01T00:00:00"}, {"Year": "2013-01-01T00:00:00", "Avg Temp": 69.4, "Temp Anomaly": 1.9, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.69, "Precip Anomaly": -0.63, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2014-01-01T00:00:00"}, {"Year": "2014-01-01T00:00:00", "Avg Temp": 71.1, "Temp Anomaly": 3.6, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 2.86, "Precip Anomaly": -0.46, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2015-01-01T00:00:00"}, {"Year": "2015-01-01T00:00:00", "Avg Temp": 70.6, "Temp Anomaly": 3.1, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.13, "Precip Anomaly": -0.19, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2016-01-01T00:00:00"}, {"Year": "2016-01-01T00:00:00", "Avg Temp": 69.8, "Temp Anomaly": 2.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 5.08, "Precip Anomaly": 1.76, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2017-01-01T00:00:00"}, {"Year": "2017-01-01T00:00:00", "Avg Temp": 70.8, "Temp Anomaly": 3.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.82, "Precip Anomaly": -1.5, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2018-01-01T00:00:00"}, {"Year": "2018-01-01T00:00:00", "Avg Temp": 70.4, "Temp Anomaly": 2.9, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.75, "Precip Anomaly": -1.57, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2019-01-01T00:00:00"}, {"Year": "2019-01-01T00:00:00", "Avg Temp": 68.3, "Temp Anomaly": 0.8, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 3.57, "Precip Anomaly": 0.25, "Precip_100_yr_avg": 3.321188118811881, "decade": "2010", "streamlit_year": "2020-01-01T00:00:00"}, {"Year": "2020-01-01T00:00:00", "Avg Temp": 71.8, "Temp Anomaly": 4.3, "Temp_100_yr_avg": 67.48613861386137, "Precipitation": 1.6, "Precip Anomaly": -1.72, "Precip_100_yr_avg": 3.321188118811881, "decade": "2020", "streamlit_year": "2021-01-01T00:00:00"}]}};
                  var embedOpt = {"mode": "vega-lite"};

                  function showError(el, error){
                      el.innerHTML = ('<div class="error" style="color:red;">'
                                      + '<p>JavaScript Error: ' + error.message + '</p>'
                                      + "<p>This usually means there's a typo in your chart specification. "
                                      + "See the javascript console for the full traceback.</p>"
                                      + '</div>');
                      throw error;
                  }
                  const el = document.getElementById('visCasey');
                  vegaEmbed("#visCasey", spec, embedOpt)
                    .catch(error => showError(el, error));
                })(vegaEmbed);

              </script>
            </body>
            </html>
          </div>
          <div class="content-3 hide">
            Testing testing 3!
          </div>
          <div class="content-4 hide">
            Testing testing 4!
          </div>
        </figure>
      </section>

      <section id="outro"></section>
    </main>

    <!-- <div class='debug'></div> -->
    <script src="https://unpkg.com/d3@5.9.1/dist/d3.min.js"></script>
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="js/stickyfill.min.js"></script>
    <script src="js/scrollama.min.js"></script>
    <script>

      // using d3 for convenience
      var main = d3.select("main");
      var scrolly = main.select("#scrolly");
      var figure = scrolly.select("figure");
      var article = scrolly.select("article");
      var step = article.selectAll(".step");

      // initialize the scrollama
      var scroller = scrollama();

      // generic window resize listener event
      function handleResize() {
        // 1. update height of step elements
        var stepH = Math.floor(window.innerHeight * 0.75);
        step.style("height", stepH + "px");

        var figureHeight = window.innerHeight / 2;
        var figureMarginTop = (window.innerHeight - figureHeight) / 2;

        figure
          .style("height", figureHeight + "px")
          //.style("top", figureMarginTop + "px");
          .style("top", 20 + "px");

        // 3. tell scrollama to update new element dimensions
        scroller.resize();
      }

      // scrollama event handlers
      function handleStepEnter(response) { // gets called every time you scroll down, makes new step visible - unhide/show
        console.log(response);
        // response = { element, direction, index }

        var figure = scrolly.select("figure");

        figure.selectAll("div").classed("hide", function(d, i) {  // add class to active viz
          return i != response.index;
        });

        // add color to current step only
        step.classed("is-active", function(d, i) {
          return i === response.index;
        });

        // update graphic based on step
      //  figure.select("div").text(response.index + 1);
      }

      function setupStickyfill() {
        d3.selectAll(".sticky").each(function() {
          Stickyfill.add(this);
        });
      }

      function init() {
        setupStickyfill();

        // 1. force a resize on load to ensure proper dimensions are sent to scrollama
        handleResize();

        // 2. setup the scroller passing options
        // 		this will also initialize trigger observations
        // 3. bind scrollama event handlers (this can be chained like below)
        scroller
          .setup({
            step: "#scrolly article .step",
            offset: 0.33,
            debug: true
          })
          .onStepEnter(handleStepEnter);

        // setup resize event
        window.addEventListener("resize", handleResize);
      }

      // kick things off
      init();
    </script>
  </body>
</html>
